var e=(e,t,i)=>new Promise(((n,a)=>{var s=e=>{try{o(i.next(e))}catch(t){a(t)}},l=e=>{try{o(i.throw(e))}catch(t){a(t)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,l);o((i=i.apply(e,t)).next())}));import{b as t,U as i,r as n,I as a,db as s,e as l,o,f as r,i as u,s as p,fT as d,k as m,ex as c,j as v,v as f,m as j,c5 as x,W as g}from"./index.js";import{P as y}from"./index14.js";import{_}from"./Exception.vue_vue_type_style_index_0_lang.js";import{u as k}from"./index26.js";import{P as h,G as b}from"./GPluginModal.js";import{a as w}from"./index2.js";import"./index16.js";import"./onMountedOrActivated.js";import"./useWindowSizeFn.js";import"./useContentViewHeight.js";import"./ArrowLeftOutlined.js";import"./transButton.js";import"./index15.js";import"./get.js";import"./MarkdownViewer.js";import"./guoba.js";import"./BasicForm.js";import"./index4.js";import"./find.js";import"./_baseIteratee.js";import"./index5.js";import"./index6.js";import"./useFormItem.js";import"./index3.js";import"./upperFirst.js";import"./download.js";import"./index7.js";import"./index8.js";import"./uniqBy.js";import"./common.js";import"./FullscreenOutlined.js";const P={key:1},C={class:"plugin-title"},F=["href"],O={class:"plugin-content"},T={class:"content-desc"},M=f("span",null,"保存",-1),R={style:{"text-align":"center"}},A=f("span",null,"保存",-1),B=t({__name:"index",setup(t){const{prefixCls:B}=i("plugin-detail"),G=k(),I=n(),z=n(!0),D=n(!0),E=n(!1),N=a((()=>{var e,t;return null!=(t=null==(e=s.currentRoute.value.params)?void 0:e.name)?t:""})),U=n();function V(){return e(this,null,(function*(){try{z.value=!0,yield I.value.savePluginConfigData()}finally{z.value=!1}}))}!function(){e(this,null,(function*(){try{if(!N.value)return void(E.value=!0);const e=(yield G.getPlugins()).find((e=>e.name===N.value));if(!e)return void(E.value=!0);U.value=e}finally{D.value=!1,z.value=!1}}))}();const[W,{openModal:q}]=w();function H(){q(!0,{plugin:U.value})}return(e,t)=>{const i=l("a-col"),n=l("a-button"),a=l("a-row"),s=l("a-card");return o(),r("div",{class:g([p(B)])},[D.value?(o(),u(p(d),{key:0,active:""})):E.value?(o(),r("div",P,[m(p(_),{status:p(c).PAGE_NOT_FOUND,subTitle:"未找到该插件",btnText:"返回插件列表",goPath:"/plugins/index"},null,8,["status"])])):(o(),u(p(y),{key:2,loading:z.value,sticky:"",stickyTop:"-50px"},{title:v((()=>[f("div",C,[f("a",{class:"title-name",onClick:H},j(U.value.title),1),f("a",{href:U.value.link,target:"_blank",style:{"margin-left":"4px"}},[m(p(x),{icon:"bx:link",style:{"font-size":"20px"}})],8,F)])])),headerContent:v((()=>[f("div",O,[f("div",T,j(U.value.description),1)])])),footer:v((()=>[m(a,null,{default:v((()=>[m(i,{span:12}),m(i,{span:12,style:{"text-align":"right","padding-bottom":"8px"}},{default:v((()=>[m(n,{type:"primary","pre-icon":"ant-design:save",onClick:V},{default:v((()=>[M])),_:1})])),_:1})])),_:1})])),default:v((()=>[m(a,{justify:"center"},{default:v((()=>[m(i,{xxl:16,xl:18,lg:20,md:22,sm:24,xs:24},{default:v((()=>[m(s,null,{default:v((()=>[m(h,{ref_key:"configFormRef",ref:I,plugin:U.value},null,8,["plugin"]),f("div",R,[m(n,{type:"primary","pre-icon":"ant-design:save",onClick:V},{default:v((()=>[A])),_:1})])])),_:1})])),_:1})])),_:1}),m(b,{onRegister:p(W)},null,8,["onRegister"])])),_:1},8,["loading"]))],2)}}});export{B as default};
