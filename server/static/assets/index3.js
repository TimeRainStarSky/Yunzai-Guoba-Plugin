import{b as e,ac as n,I as t,ad as a,ae as o,k as l,af as r,ag as i,ah as c,r as d,ai as u,c as s,J as v,aj as f,_ as p,ak as y,al as h,am as g,a0 as k,an as b,ao as K,ap as m,aq as x,ar as w,as as N,at as C,z as O,w as S,au as E,N as D,av as P,aw as A,ax as T,ay as L,q as j,az as F,F as B,aA as I,K as M,a6 as H,aB as R,aC as z,aD as V,aE as G,aF as _,aG as U,aH as q,aI as W}from"./index.js";var X=Symbol("TreeContextKey"),Y=e({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,a){var o=a.slots;return n(X,t((function(){return e.value}))),function(){var e;return null===(e=o.default)||void 0===e?void 0:e.call(o)}}}),J=function(){return a(X,t((function(){return{}})))},Q=Symbol("KeysStateKey"),Z=function(){return a(Q,{expandedKeys:o([]),selectedKeys:o([]),loadedKeys:o([]),loadingKeys:o([]),checkedKeys:o([]),halfCheckedKeys:o([]),expandedKeysSet:t((function(){return new Set})),selectedKeysSet:t((function(){return new Set})),loadedKeysSet:t((function(){return new Set})),loadingKeysSet:t((function(){return new Set})),checkedKeysSet:t((function(){return new Set})),halfCheckedKeysSet:t((function(){return new Set})),flattenNodes:o([])})},$=function(e){for(var n=e.prefixCls,t=e.level,a=e.isStart,o=e.isEnd,i="".concat(n,"-indent-unit"),c=[],d=0;d<t;d+=1){var u;c.push(l("span",{key:d,class:(u={},r(u,i,!0),r(u,"".concat(i,"-start"),a[d]),r(u,"".concat(i,"-end"),o[d]),u)},null))}return l("span",{"aria-hidden":"true",class:"".concat(n,"-indent")},[c])},ee={eventKey:[String,Number],prefixCls:String,title:i.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:i.any,switcherIcon:i.any,domRef:{type:Function}},ne={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},te=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:i.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:i.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:i.any,switcherIcon:i.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},ae=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],oe=e({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:ee,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,n){var a=n.attrs,o=n.slots,i=n.expose;c(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map((function(e){return"`v-slot:"+e+"` "})),"instead"));var K=d(!1),m=J(),x=Z(),w=x.expandedKeysSet,N=x.selectedKeysSet,C=x.loadedKeysSet,O=x.loadingKeysSet,S=x.checkedKeysSet,E=x.halfCheckedKeysSet,D=m.value,P=D.dragOverNodeKey,A=D.dropPosition,T=D.keyEntities,L=t((function(){return me(e.eventKey,{expandedKeysSet:w.value,selectedKeysSet:N.value,loadedKeysSet:C.value,loadingKeysSet:O.value,checkedKeysSet:S.value,halfCheckedKeysSet:E.value,dragOverNodeKey:P,dropPosition:A,keyEntities:T})})),j=u((function(){return L.value.expanded})),F=u((function(){return L.value.selected})),B=u((function(){return L.value.checked})),I=u((function(){return L.value.loaded})),M=u((function(){return L.value.loading})),H=u((function(){return L.value.halfChecked})),R=u((function(){return L.value.dragOver})),z=u((function(){return L.value.dragOverGapTop})),V=u((function(){return L.value.dragOverGapBottom})),G=u((function(){return L.value.pos})),_=d(),U=t((function(){var n=e.eventKey;return!!((m.value.keyEntities[n]||{}).children||[]).length})),q=t((function(){var n=e.isLeaf,t=m.value.loadData,a=U.value;return!1!==n&&(n||!t&&!a||t&&I.value&&!a)})),W=t((function(){return q.value?null:j.value?"open":"close"})),X=t((function(){var n=e.disabled;return!(!m.value.disabled&&!n)})),Y=t((function(){var n=e.checkable,t=m.value.checkable;return!(!t||!1===n)&&t})),Q=t((function(){var n=e.selectable,t=m.value.selectable;return"boolean"==typeof n?n:t})),ee=t((function(){var n=e.data,t=e.active,a=e.checkable,o=e.disableCheckbox,l=e.disabled,r=e.selectable;return p(p({active:t,checkable:a,disableCheckbox:o,disabled:l,selectable:r},n),{},{dataRef:n,data:n,isLeaf:q.value,checked:B.value,expanded:j.value,loading:M.value,selected:F.value,halfChecked:H.value})})),ne=k(),te=t((function(){var n=e.eventKey,t=(m.value.keyEntities[n]||{}).parent;return p(p({},xe(b({},e,L.value))),{},{parent:t})})),oe=s({eventData:te,eventKey:t((function(){return e.eventKey})),selectHandle:_,pos:G,key:ne.vnode.key});i(oe);var le=function(e){(0,m.value.onNodeDoubleClick)(e,te.value)},re=function(n){if(!X.value){var t=e.disableCheckbox,a=m.value.onNodeCheck;if(Y.value&&!t){n.preventDefault();var o=!B.value;a(n,te.value,o)}}},ie=function(e){(0,m.value.onNodeClick)(e,te.value),Q.value?function(e){if(!X.value){var n=m.value.onNodeSelect;e.preventDefault(),n(e,te.value)}}(e):re(e)},ce=function(e){(0,m.value.onNodeMouseEnter)(e,te.value)},de=function(e){(0,m.value.onNodeMouseLeave)(e,te.value)},ue=function(e){(0,m.value.onNodeContextMenu)(e,te.value)},se=function(e){var n=m.value.onNodeDragStart;e.stopPropagation(),K.value=!0,n(e,oe);try{e.dataTransfer.setData("text/plain","")}catch(t){}},ve=function(e){var n=m.value.onNodeDragEnter;e.preventDefault(),e.stopPropagation(),n(e,oe)},fe=function(e){var n=m.value.onNodeDragOver;e.preventDefault(),e.stopPropagation(),n(e,oe)},pe=function(e){var n=m.value.onNodeDragLeave;e.stopPropagation(),n(e,oe)},ye=function(e){var n=m.value.onNodeDragEnd;e.stopPropagation(),K.value=!1,n(e,oe)},he=function(e){var n=m.value.onNodeDrop;e.preventDefault(),e.stopPropagation(),K.value=!1,n(e,oe)},ge=function(e){var n=m.value.onNodeExpand;M.value||n(e,te.value)},ke=function(){var e=m.value,n=e.draggable,t=e.prefixCls;return n&&null!=n&&n.icon?l("span",{class:"".concat(t,"-draggable-icon")},[n.icon]):null},be=function(){var e=m.value,n=e.loadData,t=e.onNodeLoad;M.value||n&&j.value&&!q.value&&(U.value||I.value||t(te.value))};v((function(){be()})),f((function(){be()}));var Ke=function(){var n,t,a,r,i,c,d,u=m.value.prefixCls,s=(r=e.switcherIcon,i=void 0===r?o.switcherIcon||(null===(n=m.value.slots)||void 0===n?void 0:n[null===(t=e.data)||void 0===t||null===(a=t.slots)||void 0===a?void 0:a.switcherIcon]):r,c=m.value.switcherIcon,"function"==typeof(d=i||c)?d(ee.value):d);if(q.value)return!1!==s?l("span",{class:g("".concat(u,"-switcher"),"".concat(u,"-switcher-noop"))},[s]):null;var v=g("".concat(u,"-switcher"),"".concat(u,"-switcher_").concat(j.value?"open":"close"));return!1!==s?l("span",{onClick:ge,class:v},[s]):null},we=function(){var n,t,a=e.disableCheckbox,o=m.value.prefixCls,r=X.value;return Y.value?l("span",{class:g("".concat(o,"-checkbox"),B.value&&"".concat(o,"-checkbox-checked"),!B.value&&H.value&&"".concat(o,"-checkbox-indeterminate"),(r||a)&&"".concat(o,"-checkbox-disabled")),onClick:re},[null===(n=(t=m.value).customCheckable)||void 0===n?void 0:n.call(t)]):null},Ne=function(){var e=m.value.prefixCls;return l("span",{class:g("".concat(e,"-iconEle"),"".concat(e,"-icon__").concat(W.value||"docu"),M.value&&"".concat(e,"-icon_loading"))},null)},Ce=function(){var n=e.disabled,t=e.eventKey,a=m.value,o=a.draggable,l=a.dropLevelOffset,r=a.dropPosition,i=a.prefixCls,c=a.indent,d=a.dropIndicatorRender,u=a.dragOverNodeKey,s=a.direction;return!n&&!1!==o&&u===t?d({dropPosition:r,dropLevelOffset:l,indent:c,prefixCls:i,direction:s}):null},Oe=function(){var n,t,a,r,i,c,d=e.icon,u=void 0===d?o.icon:d,s=e.data,v=o.title||(null===(n=m.value.slots)||void 0===n?void 0:n[null===(t=e.data)||void 0===t||null===(a=t.slots)||void 0===a?void 0:a.title])||(null===(r=m.value.slots)||void 0===r?void 0:r.title)||e.title,f=m.value,p=f.prefixCls,y=f.showIcon,h=f.icon,k=f.loadData,b=X.value,x="".concat(p,"-node-content-wrapper");if(y){var w,N,C=u||(null===(w=m.value.slots)||void 0===w?void 0:w[null==s||null===(N=s.slots)||void 0===N?void 0:N.icon])||h;i=C?l("span",{class:g("".concat(p,"-iconEle"),"".concat(p,"-icon__customize"))},["function"==typeof C?C(ee.value):C]):Ne()}else k&&M.value&&(i=Ne());c=void 0===(c="function"==typeof v?v(ee.value):v)?"---":c;var O=l("span",{class:"".concat(p,"-title")},[c]);return l("span",{ref:_,title:"string"==typeof v?v:"",class:g("".concat(x),"".concat(x,"-").concat(W.value||"normal"),!b&&(F.value||K.value)&&"".concat(p,"-node-selected")),onMouseenter:ce,onMouseleave:de,onContextmenu:ue,onClick:ie,onDblclick:le},[i,O,Ce()])};return function(){var n,t=p(p({},e),a),o=t.eventKey,i=t.isLeaf,c=t.isStart,d=t.isEnd,u=t.domRef,s=t.active;t.data;var v,f,k=t.onMousemove,b=t.selectable,K=y(t,ae),x=m.value,w=x.prefixCls,N=x.filterTreeNode,C=x.keyEntities,O=x.dropContainerKey,S=x.dropTargetKey,E=x.draggingNodeKey,D=X.value,P=h(K,{aria:!0,data:!0}),A=(C[o]||{}).level,T=d[d.length-1],L=(v=e.data,!(!(f=m.value.draggable)||f.nodeDraggable&&!f.nodeDraggable(v))),I=!D&&L,G=E===o,_=void 0!==b?{"aria-selected":!!b}:void 0;return l("div",p(p({ref:u,class:g(a.class,"".concat(w,"-treenode"),(n={},r(n,"".concat(w,"-treenode-disabled"),D),r(n,"".concat(w,"-treenode-switcher-").concat(j.value?"open":"close"),!i),r(n,"".concat(w,"-treenode-checkbox-checked"),B.value),r(n,"".concat(w,"-treenode-checkbox-indeterminate"),H.value),r(n,"".concat(w,"-treenode-selected"),F.value),r(n,"".concat(w,"-treenode-loading"),M.value),r(n,"".concat(w,"-treenode-active"),s),r(n,"".concat(w,"-treenode-leaf-last"),T),r(n,"".concat(w,"-treenode-draggable"),I),r(n,"dragging",G),r(n,"drop-target",S===o),r(n,"drop-container",O===o),r(n,"drag-over",!D&&R.value),r(n,"drag-over-gap-top",!D&&z.value),r(n,"drag-over-gap-bottom",!D&&V.value),r(n,"filter-node",N&&N(te.value)),n)),style:a.style,draggable:I,"aria-grabbed":G,onDragstart:I?se:void 0,onDragenter:L?ve:void 0,onDragover:L?fe:void 0,onDragleave:L?pe:void 0,onDrop:L?he:void 0,onDragend:L?ye:void 0,onMousemove:k},_),P),[l($,{prefixCls:w,level:A,isStart:c,isEnd:d},null),ke(),Ke(),we(),Oe()])}}});function le(e,n){if(!e)return[];var t=e.slice(),a=t.indexOf(n);return a>=0&&t.splice(a,1),t}function re(e,n){var t=(e||[]).slice();return-1===t.indexOf(n)&&t.push(n),t}function ie(e){return e.split("-")}function ce(e,n){return"".concat(e,"-").concat(n)}function de(e){return e&&e.type&&e.type.isTreeNode}function ue(e){if(e.parent){var n=ie(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function se(e,n,t,a,o,l,r,i,c,d){var u,s=e.clientX,v=e.clientY,f=e.target.getBoundingClientRect(),p=f.top,y=f.height,h=(("rtl"===d?-1:1)*(((null==o?void 0:o.x)||0)-s)-12)/a,g=i[t.eventKey];if(v<p+y/2){var k=r.findIndex((function(e){return e.key===g.key})),b=r[k<=0?0:k-1].key;g=i[b]}var K=g.key,m=g,x=g.key,w=0,N=0;if(!c.has(K))for(var C=0;C<h&&ue(g);C+=1)g=g.parent,N+=1;var O,S=n.eventData,E=g.node,D=!0;return O=ie(g.pos),0===Number(O[O.length-1])&&0===g.level&&v<p+y/2&&l({dragNode:S,dropNode:E,dropPosition:-1})&&g.key===t.eventKey?w=-1:(m.children||[]).length&&c.has(x)?l({dragNode:S,dropNode:E,dropPosition:0})?w=0:D=!1:0===N?h>-1.5?l({dragNode:S,dropNode:E,dropPosition:1})?w=1:D=!1:l({dragNode:S,dropNode:E,dropPosition:0})?w=0:l({dragNode:S,dropNode:E,dropPosition:1})?w=1:D=!1:l({dragNode:S,dropNode:E,dropPosition:1})?w=1:D=!1,{dropPosition:w,dropLevelOffset:N,dropTargetKey:g.key,dropTargetPos:g.pos,dragOverNodeKey:x,dropContainerKey:0===w?null:(null===(u=g.parent)||void 0===u?void 0:u.key)||null,dropAllowed:D}}function ve(e,n){if(e)return n.multiple?e.slice():e.length?[e[0]]:e}function fe(e){if(!e)return null;var n;if(Array.isArray(e))n={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==K(e))return null;n={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return n}function pe(e,n){var t=new Set;function a(e){if(!t.has(e)){var o=n[e];if(o){t.add(e);var l=o.parent;o.node.disabled||l&&a(l.key)}}}return(e||[]).forEach((function(e){a(e)})),m(t)}var ye=["title","icon","switcherIcon"];function he(e,n){return null!=e?e:n}function ge(e){var n=e||{},t=n.title||"title";return{title:t,_title:n._title||[t],key:n.key||"key",children:n.children||"children"}}function ke(e){return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=x(n);return t.map((function(n){var t,a,o,l;if(!de(n))return null;for(var r=n.children||{},i=n.key,c={},d=0,u=Object.entries(n.props);d<u.length;d++){var s=w(u[d],2),v=s[0],f=s[1];c[N(v)]=f}var h=c.isLeaf,g=c.checkable,k=c.selectable,b=c.disabled,K=c.disableCheckbox,m={isLeaf:h||""===h||void 0,checkable:g||""===g||void 0,selectable:k||""===k||void 0,disabled:b||""===b||void 0,disableCheckbox:K||""===K||void 0},x=p(p({},c),m),C=c.title,O=void 0===C?null===(t=r.title)||void 0===t?void 0:t.call(r,x):C,S=c.icon,E=void 0===S?null===(a=r.icon)||void 0===a?void 0:a.call(r,x):S,D=c.switcherIcon,P=void 0===D?null===(o=r.switcherIcon)||void 0===o?void 0:o.call(r,x):D,A=y(c,ye),T=null===(l=r.default)||void 0===l?void 0:l.call(r),L=p(p({},A),{},{title:O,icon:E,switcherIcon:P,key:i,isLeaf:h},m),j=e(T);return j.length&&(L.children=j),L}))}(e)}function be(e,n,t){var a,o=("object"===K(t)?t:{externalGetKey:t})||{},l=o.childrenPropName,r=o.externalGetKey,i=ge(o.fieldNames),c=i.key,d=i.children,u=l||d;r?"string"==typeof r?a=function(e){return e[r]}:"function"==typeof r&&(a=function(e){return r(e)}):a=function(e,n){return he(e[c],n)},function t(o,l,r,i){var c=o?o[u]:e,d=o?ce(r.pos,l):"0",s=o?[].concat(m(i),[o]):[];if(o){var v=a(o,d),f={node:o,index:l,pos:d,key:v,parentPos:r.node?r.pos:null,level:r.level+1,nodes:s};n(f)}c&&c.forEach((function(e,n){t(e,n,{node:o,pos:d,level:r?r.level+1:-1},s)}))}(null)}function Ke(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.initWrapper,a=n.processEntity,o=n.onProcessFinished,l=n.externalGetKey,r=n.childrenPropName,i=n.fieldNames,c=arguments.length>2?arguments[2]:void 0,d=l||c,u={},s={},v={posEntities:u,keyEntities:s};return t&&(v=t(v)||v),be(e,(function(e){var n=e.node,t=e.index,o=e.pos,l=e.key,r=e.parentPos,i=e.level,c={node:n,nodes:e.nodes,index:t,key:l,pos:o,level:i},d=he(l,o);u[o]=c,s[d]=c,c.parent=u[r],c.parent&&(c.parent.children=c.parent.children||[],c.parent.children.push(c)),a&&a(c,v)}),{externalGetKey:d,childrenPropName:r,fieldNames:i}),o&&o(v),v}function me(e,n){var t=n.expandedKeysSet,a=n.selectedKeysSet,o=n.loadedKeysSet,l=n.loadingKeysSet,r=n.checkedKeysSet,i=n.halfCheckedKeysSet,c=n.dragOverNodeKey,d=n.dropPosition,u=n.keyEntities[e];return{eventKey:e,expanded:t.has(e),selected:a.has(e),loaded:o.has(e),loading:l.has(e),checked:r.has(e),halfChecked:i.has(e),pos:String(u?u.pos:""),parent:u.parent,dragOver:c===e&&0===d,dragOverGapTop:c===e&&-1===d,dragOverGapBottom:c===e&&1===d}}function xe(e){var n=e.data,t=e.expanded,a=e.selected,o=e.checked,l=e.loaded,r=e.loading,i=e.halfChecked,c=e.dragOver,d=e.dragOverGapTop,u=e.dragOverGapBottom,s=e.pos,v=e.active,f=e.eventKey,y=p(p({dataRef:n},n),{},{expanded:t,selected:a,checked:o,loaded:l,loading:r,halfChecked:i,dragOver:c,dragOverGapTop:d,dragOverGapBottom:u,pos:s,active:v,eventKey:f,key:f});return"props"in y||Object.defineProperty(y,"props",{get:function(){return e}}),y}function we(e,n){var t=new Set;return e.forEach((function(e){n.has(e)||t.add(e)})),t}function Ne(e){var n=e||{},t=n.disabled,a=n.disableCheckbox,o=n.checkable;return!(!t&&!a)||!1===o}function Ce(e,n,t,a,o,l){var r;r=l||Ne;var i,c=new Set(e.filter((function(e){return!!t[e]})));return i=!0===n?function(e,n,t,a){for(var o=new Set(e),l=new Set,r=0;r<=t;r+=1)(n.get(r)||new Set).forEach((function(e){var n=e.key,t=e.node,l=e.children,r=void 0===l?[]:l;o.has(n)&&!a(t)&&r.filter((function(e){return!a(e.node)})).forEach((function(e){o.add(e.key)}))}));for(var i=new Set,c=t;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!a(t)&&e.parent&&!i.has(e.parent.key))if(a(e.parent.node))i.add(n.key);else{var r=!0,c=!1;(n.children||[]).filter((function(e){return!a(e.node)})).forEach((function(e){var n=e.key,t=o.has(n);r&&!t&&(r=!1),c||!t&&!l.has(n)||(c=!0)})),r&&o.add(n.key),c&&l.add(n.key),i.add(n.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(we(l,o))}}(c,o,a,r):function(e,n,t,a,o){for(var l=new Set(e),r=new Set(n),i=0;i<=a;i+=1)(t.get(i)||new Set).forEach((function(e){var n=e.key,t=e.node,a=e.children,i=void 0===a?[]:a;l.has(n)||r.has(n)||o(t)||i.filter((function(e){return!o(e.node)})).forEach((function(e){l.delete(e.key)}))}));r=new Set;for(var c=new Set,d=a;d>=0;d-=1)(t.get(d)||new Set).forEach((function(e){var n=e.parent,t=e.node;if(!o(t)&&e.parent&&!c.has(e.parent.key))if(o(e.parent.node))c.add(n.key);else{var a=!0,i=!1;(n.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var n=e.key,t=l.has(n);a&&!t&&(a=!1),i||!t&&!r.has(n)||(i=!0)})),a||l.delete(n.key),i&&r.add(n.key),c.add(n.key)}}));return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(we(r,l))}}(c,n.halfCheckedKeys,o,a,r),i}function Oe(e){var n=d(0),t=o();return O((function(){var a=new Map,o=0,l=e.value||{};for(var r in l)if(Object.prototype.hasOwnProperty.call(l,r)){var i=l[r],c=i.level,d=a.get(c);d||(d=new Set,a.set(c,d)),d.add(i),o=Math.max(o,c)}n.value=o,t.value=a})),{maxLevel:n,levelEntities:t}}var Se=["motion","motionNodes","motionType","active","eventKey"],Ee=e({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:p(p({},ee),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,n){var a=n.attrs,o=n.slots,r=d(!0),i=J(),c=d(!1),u=t((function(){return e.motion?e.motion:L()})),s=function(n,t){var a,o;if("appear"===t)null===(a=u.value)||void 0===a||null===(o=a.onAfterEnter)||void 0===o||o.call(a,n);else if("leave"===t){var l,r;null===(l=u.value)||void 0===l||null===(r=l.onAfterLeave)||void 0===r||r.call(l,n)}c.value||e.onMotionEnd(),c.value=!0};return S((function(){return e.motionNodes}),(function(){e.motionNodes&&"hide"===e.motionType&&r.value&&j((function(){r.value=!1}))}),{immediate:!0,flush:"post"}),v((function(){e.motionNodes&&e.onMotionStart()})),E((function(){e.motionNodes&&s()})),function(){e.motion;var n=e.motionNodes,t=e.motionType,c=e.active,v=e.eventKey,f=y(e,Se);return n?l(T,p(p({},u.value),{},{appear:"show"===t,onAfterAppear:function(e){return s(e,"appear")},onAfterLeave:function(e){return s(e,"leave")}}),{default:function(){return[D(l("div",{class:"".concat(i.value.prefixCls,"-treenode-motion")},[n.map((function(e){var n=b({},(A(e.data),e.data)),t=e.title,a=e.key,r=e.isStart,i=e.isEnd;return delete n.children,l(oe,p(p({},n),{},{title:t,active:c,data:e.data,key:a,eventKey:a,isStart:r,isEnd:i}),o)}))]),[[P,r.value]])]}}):l(oe,p(p({domRef:d,class:a.class,style:a.style},f),{},{active:c,eventKey:v}),o)}}});function De(e,n,t){var a=e.findIndex((function(e){return e.key===t})),o=e[a+1],l=n.findIndex((function(e){return e.key===t}));if(o){var r=n.findIndex((function(e){return e.key===o.key}));return n.slice(l+1,r)}return n.slice(l+1)}var Pe=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],Ae={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Te=function(){},Le="RC_TREE_MOTION_".concat(Math.random()),je={key:Le},Fe={key:Le,level:0,index:0,pos:"0",node:je,nodes:[je]},Be={parent:null,children:[],pos:Fe.pos,data:je,title:null,key:Le,isStart:[],isEnd:[]};function Ie(e,n,t,a){return!1!==n&&t?e.slice(0,Math.ceil(t/a)+1):e}function Me(e){return he(e.key,e.pos)}function He(e){for(var n=String(e.key),t=e;t.parent;)t=t.parent,n="".concat(t.key," > ").concat(n);return n}var Re=e({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:ne,setup:function(e,n){var a=n.expose,r=n.attrs,i=d(),c=d(),u=Z(),s=u.expandedKeys,v=u.flattenNodes;a({scrollTo:function(e){i.value.scrollTo(e)},getIndentWidth:function(){return c.value.offsetWidth}});var f=o(v.value),h=o([]),g=d(null);function k(){f.value=v.value,h.value=[],g.value=null,e.onListChangeEnd()}var K=J();S([function(){return s.value.slice()},v],(function(n,t){var a=w(n,2),o=a[0],l=a[1],r=w(t,2),i=r[0],c=r[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.length,a=n.length;if(1!==Math.abs(t-a))return{add:!1,key:null};function o(e,n){var t=new Map;e.forEach((function(e){t.set(e,!0)}));var a=n.filter((function(e){return!t.has(e)}));return 1===a.length?a[0]:null}return t<a?{add:!0,key:o(e,n)}:{add:!1,key:o(n,e)}}(i,o);if(null!==d.key){var u=e.virtual,s=e.height,v=e.itemHeight;if(d.add){var p=c.findIndex((function(e){return e.key===d.key})),y=Ie(De(c,l,d.key),u,s,v),k=c.slice();k.splice(p+1,0,Be),f.value=k,h.value=y,g.value="show"}else{var b=l.findIndex((function(e){return e.key===d.key})),K=Ie(De(l,c,d.key),u,s,v),m=l.slice();m.splice(b+1,0,Be),f.value=m,h.value=K,g.value="hide"}}else c!==l&&(f.value=l)})),S((function(){return K.value.dragging}),(function(e){e||k()}));var m=t((function(){return void 0===e.motion?f.value:v.value})),x=function(){e.onActiveChange(null)};return function(){var n=p(p({},e),r),t=n.prefixCls;n.selectable,n.checkable;var a=n.disabled,o=n.motion,d=n.height,u=n.itemHeight,s=n.virtual,v=n.focusable,f=n.activeItem,K=n.focused,w=n.tabindex,N=n.onKeydown,O=n.onFocus,S=n.onBlur,E=n.onListChangeStart;n.onListChangeEnd;var D=y(n,Pe);return l(B,null,[K&&f&&l("span",{style:Ae,"aria-live":"assertive"},[He(f)]),l("div",null,[l("input",{style:Ae,disabled:!1===v||a,tabindex:!1!==v?w:null,onKeydown:N,onFocus:O,onBlur:S,value:"",onChange:Te,"aria-label":"for screen reader"},null)]),l("div",{class:"".concat(t,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[l("div",{class:"".concat(t,"-indent")},[l("div",{ref:c,class:"".concat(t,"-indent-unit")},null)])]),l(F,p(p({},C(D,["onActiveChange"])),{},{data:m.value,itemKey:Me,height:d,fullHeight:!1,virtual:s,itemHeight:u,prefixCls:"".concat(t,"-list"),ref:i,onVisibleChange:function(e,n){var t=new Set(e);n.filter((function(e){return!t.has(e)})).some((function(e){return Me(e)===Le}))&&k()}}),{default:function(e){var n=e.pos,t=b({},(A(e.data),e.data)),a=e.title,r=e.key,i=e.isStart,c=e.isEnd,d=he(r,n);return delete t.key,delete t.children,l(Ee,p(p({},t),{},{eventKey:d,title:a,active:!!f&&r===f.key,data:e.data,isStart:i,isEnd:c,motion:o,motionNodes:r===Le?h.value:null,motionType:g.value,onMotionStart:E,onMotionEnd:k,onMousemove:x}),null)}})])}}});var ze=e({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:I(te(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var n=e.dropPosition,t=e.dropLevelOffset,a=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(n){case-1:o.top=0,o.left="".concat(-t*a,"px");break;case 1:o.bottom=0,o.left="".concat(-t*a,"px");break;case 0:o.bottom=0,o.left="".concat(a)}return l("div",{style:o},null)},allowDrop:function(){return!0}}),setup:function(e,a){var i=a.attrs,c=a.slots,u=a.expose,v=d(!1),f={},y=d(),k=o([]),x=o([]),N=o([]),E=o([]),D=o([]),P=o([]),A={},T=s({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),L=o([]);S([function(){return e.treeData},function(){return e.children}],(function(){L.value=void 0!==e.treeData?H(e.treeData).slice():ke(H(e.children))}),{immediate:!0,deep:!0});var F=o({}),B=d(!1),I=d(null),z=d(!1),V=t((function(){return ge(e.fieldNames)})),G=d(),_=null,U=null,q=null,W=t((function(){return{expandedKeysSet:X.value,selectedKeysSet:J.value,loadedKeysSet:Z.value,loadingKeysSet:$.value,checkedKeysSet:ee.value,halfCheckedKeysSet:ne.value,dragOverNodeKey:T.dragOverNodeKey,dropPosition:T.dropPosition,keyEntities:F.value}})),X=t((function(){return new Set(P.value)})),J=t((function(){return new Set(k.value)})),Z=t((function(){return new Set(E.value)})),$=t((function(){return new Set(D.value)})),ee=t((function(){return new Set(x.value)})),ne=t((function(){return new Set(N.value)}));O((function(){if(L.value){var e=Ke(L.value,{fieldNames:V.value});F.value=p(r({},Le,Fe),e.keyEntities)}}));var te=!1;S([function(){return e.expandedKeys},function(){return e.autoExpandParent},F],(function(n,t){var a=w(n,2);a[0];var o=a[1],l=w(t,2);l[0];var r=l[1],i=P.value;if(void 0!==e.expandedKeys||te&&o!==r)i=e.autoExpandParent||!te&&e.defaultExpandParent?pe(e.expandedKeys,F.value):e.expandedKeys;else if(!te&&e.defaultExpandAll){var c=p({},F.value);delete c[Le],i=Object.keys(c).map((function(e){return c[e].key}))}else!te&&e.defaultExpandedKeys&&(i=e.autoExpandParent||e.defaultExpandParent?pe(e.defaultExpandedKeys,F.value):e.defaultExpandedKeys);i&&(P.value=i),te=!0}),{immediate:!0});var ae=o([]);O((function(){ae.value=function(e,n,t){var a=ge(t),o=a._title,l=a.key,r=a.children,i=new Set(!0===n?[]:n),c=[];return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.map((function(d,u){for(var s,v=ce(a?a.pos:"0",u),f=he(d[l],v),y=0;y<o.length;y+=1){var h=o[y];if(void 0!==d[h]){s=d[h];break}}var g=p(p({},C(d,[].concat(m(o),[l,r]))),{},{title:s,key:f,parent:a,pos:v,children:null,data:d,isStart:[].concat(m(a?a.isStart:[]),[0===u]),isEnd:[].concat(m(a?a.isEnd:[]),[u===t.length-1])});return c.push(g),!0===n||i.has(f)?g.children=e(d[r]||[],g):g.children=[],g}))}(e),c}(L.value,P.value,V.value)})),O((function(){e.selectable&&(void 0!==e.selectedKeys?k.value=ve(e.selectedKeys,e):!te&&e.defaultSelectedKeys&&(k.value=ve(e.defaultSelectedKeys,e)))}));var oe=Oe(F),de=oe.maxLevel,ue=oe.levelEntities;O((function(){var n;if(e.checkable&&(void 0!==e.checkedKeys?n=fe(e.checkedKeys)||{}:!te&&e.defaultCheckedKeys?n=fe(e.defaultCheckedKeys)||{}:L.value&&(n=fe(e.checkedKeys)||{checkedKeys:x.value,halfCheckedKeys:N.value}),n)){var t=n,a=t.checkedKeys,o=void 0===a?[]:a,l=t.halfCheckedKeys,r=void 0===l?[]:l;if(!e.checkStrictly){var i=Ce(o,!0,F.value,de.value,ue.value);o=i.checkedKeys,r=i.halfCheckedKeys}x.value=o,N.value=r}})),O((function(){e.loadedKeys&&(E.value=e.loadedKeys)}));var ye=function(){b(T,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},be=function(e){G.value.scrollTo(e)};S((function(){return e.activeKey}),(function(){void 0!==e.activeKey&&(I.value=e.activeKey)}),{immediate:!0}),S(I,(function(e){j((function(){null!==e&&be({key:e})}))}),{immediate:!0,flush:"post"});var we=function(n){void 0===e.expandedKeys&&(P.value=n)},Ne=function(){null!==T.draggingNodeKey&&b(T,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),_=null,q=null},Se=function(n,t){var a=e.onDragend;T.dragOverNodeKey=null,Ne(),null==a||a({event:n,node:t.eventData}),U=null},Ee=function e(n){Se(n,null),window.removeEventListener("dragend",e)},De=function(n,t){var a=e.onDragstart,o=t.eventKey,l=t.eventData;U=t,_={x:n.clientX,y:n.clientY};var r=le(P.value,o);T.draggingNodeKey=o,T.dragChildrenKeys=function(e,n){var t=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var a=n.key,o=n.children;t.push(a),e(o)}))}(n[e].children),t}(o,F.value),y.value=G.value.getIndentWidth(),we(r),window.addEventListener("dragend",Ee),a&&a({event:n,node:l})},Pe=function(n,t){var a=e.onDragenter,o=e.onExpand,l=e.allowDrop,r=e.direction,i=t.pos,c=t.eventKey;if(q!==c&&(q=c),U){var d=se(n,U,t,y.value,_,l,ae.value,F.value,X.value,r),u=d.dropPosition,s=d.dropLevelOffset,v=d.dropTargetKey,p=d.dropContainerKey,h=d.dropTargetPos,g=d.dropAllowed,k=d.dragOverNodeKey;-1===T.dragChildrenKeys.indexOf(v)&&g?(f||(f={}),Object.keys(f).forEach((function(e){clearTimeout(f[e])})),U.eventKey!==t.eventKey&&(f[i]=window.setTimeout((function(){if(null!==T.draggingNodeKey){var e=P.value.slice(),a=F.value[t.eventKey];a&&(a.children||[]).length&&(e=re(P.value,t.eventKey)),we(e),o&&o(e,{node:t.eventData,expanded:!0,nativeEvent:n})}}),800)),U.eventKey!==v||0!==s?(b(T,{dragOverNodeKey:k,dropPosition:u,dropLevelOffset:s,dropTargetKey:v,dropContainerKey:p,dropTargetPos:h,dropAllowed:g}),a&&a({event:n,node:t.eventData,expandedKeys:P.value})):ye()):ye()}else ye()},Ae=function(n,t){var a=e.onDragover,o=e.allowDrop,l=e.direction;if(U){var r=se(n,U,t,y.value,_,o,ae.value,F.value,X.value,l),i=r.dropPosition,c=r.dropLevelOffset,d=r.dropTargetKey,u=r.dropContainerKey,s=r.dropAllowed,v=r.dropTargetPos,f=r.dragOverNodeKey;-1===T.dragChildrenKeys.indexOf(d)&&s&&(U.eventKey===d&&0===c?null===T.dropPosition&&null===T.dropLevelOffset&&null===T.dropTargetKey&&null===T.dropContainerKey&&null===T.dropTargetPos&&!1===T.dropAllowed&&null===T.dragOverNodeKey||ye():i===T.dropPosition&&c===T.dropLevelOffset&&d===T.dropTargetKey&&u===T.dropContainerKey&&v===T.dropTargetPos&&s===T.dropAllowed&&f===T.dragOverNodeKey||b(T,{dropPosition:i,dropLevelOffset:c,dropTargetKey:d,dropContainerKey:u,dropTargetPos:v,dropAllowed:s,dragOverNodeKey:f}),a&&a({event:n,node:t.eventData}))}},Te=function(n,t){q!==t.eventKey||n.currentTarget.contains(n.relatedTarget)||(ye(),q=null);var a=e.onDragleave;a&&a({event:n,node:t.eventData})},je=function(n,t){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=T.dragChildrenKeys,r=T.dropPosition,i=T.dropTargetKey,c=T.dropTargetPos,d=T.dropAllowed;if(d){var u=e.onDrop;if(T.dragOverNodeKey=null,Ne(),null!==i){var s=p(p({},me(i,H(W.value))),{},{active:(null===(a=Qe.value)||void 0===a?void 0:a.key)===i,data:F.value[i].node});l.indexOf(i);var v=ie(c),f={event:n,node:xe(s),dragNode:U?U.eventData:null,dragNodesKeys:[U.eventKey].concat(l),dropToGap:0!==r,dropPosition:r+Number(v[v.length-1])};o||null==u||u(f),U=null}}},Be=function(n,t){var a=e.onClick;a&&a(n,t)},Ie=function(n,t){var a=e.onDblclick;a&&a(n,t)},Me=function(n,t){var a=k.value,o=e.onSelect,l=e.multiple,r=t.selected,i=t[V.value.key],c=!r;a=c?l?re(a,i):[i]:le(a,i);var d=F.value,u=a.map((function(e){var n=d[e];return n?n.node:null})).filter((function(e){return e}));void 0===e.selectedKeys&&(k.value=a),o&&o(a,{event:"select",selected:c,node:t,selectedNodes:u,nativeEvent:n})},He=function(n,t,a){var o,l=e.checkStrictly,r=e.onCheck,i=t[V.value.key],c={event:"check",node:t,checked:a,nativeEvent:n},d=F.value;if(l){var u=a?re(x.value,i):le(x.value,i);o={checked:u,halfChecked:le(N.value,i)},c.checkedNodes=u.map((function(e){return d[e]})).filter((function(e){return e})).map((function(e){return e.node})),void 0===e.checkedKeys&&(x.value=u)}else{var s=Ce([].concat(m(x.value),[i]),!0,d,de.value,ue.value),v=s.checkedKeys,f=s.halfCheckedKeys;if(!a){var p=new Set(v);p.delete(i);var y=Ce(Array.from(p),{checked:!1,halfCheckedKeys:f},d,de.value,ue.value);v=y.checkedKeys,f=y.halfCheckedKeys}o=v,c.checkedNodes=[],c.checkedNodesPositions=[],c.halfCheckedKeys=f,v.forEach((function(e){var n=d[e];if(n){var t=n.node,a=n.pos;c.checkedNodes.push(t),c.checkedNodesPositions.push({node:t,pos:a})}})),void 0===e.checkedKeys&&(x.value=v,N.value=f)}r&&r(o,c)},ze=function(n){var t=n[V.value.key],a=new Promise((function(a,o){var l=e.loadData,r=e.onLoad;if(!l||Z.value.has(t)||$.value.has(t))return null;l(n).then((function(){var o=re(E.value,t),l=le(D.value,t);r&&r(o,{event:"load",node:n}),void 0===e.loadedKeys&&(E.value=o),D.value=l,a()})).catch((function(n){var l=le(D.value,t);if(D.value=l,A[t]=(A[t]||0)+1,A[t]>=10){var r=re(E.value,t);void 0===e.loadedKeys&&(E.value=r),a()}o(n)})),D.value=re(D.value,t)}));return a.catch((function(){})),a},Ve=function(n,t){var a=e.onMouseenter;a&&a({event:n,node:t})},Ge=function(n,t){var a=e.onMouseleave;a&&a({event:n,node:t})},_e=function(n,t){var a=e.onRightClick;a&&(n.preventDefault(),a({event:n,node:t}))},Ue=function(n){var t=e.onFocus;B.value=!0,t&&t(n)},qe=function(n){var t=e.onBlur;B.value=!1,Je(null),t&&t(n)},We=function(n,t){var a=P.value,o=e.onExpand,l=e.loadData,r=t.expanded,i=t[V.value.key];if(!z.value){a.indexOf(i);var c=!r;if(a=c?re(a,i):le(a,i),we(a),o&&o(a,{node:t,expanded:c,nativeEvent:n}),c&&l){var d=ze(t);d&&d.then((function(){})).catch((function(e){var n=le(P.value,i);we(n),Promise.reject(e)}))}}},Xe=function(){z.value=!0},Ye=function(){setTimeout((function(){z.value=!1}))},Je=function(n){var t=e.onActiveChange;I.value!==n&&(void 0!==e.activeKey&&(I.value=n),null!==n&&be({key:n}),t&&t(n))},Qe=t((function(){return null===I.value?null:ae.value.find((function(e){return e.key===I.value}))||null})),Ze=function(e){var n=ae.value.findIndex((function(e){return e.key===I.value}));-1===n&&e<0&&(n=ae.value.length),n=(n+e+ae.value.length)%ae.value.length;var t=ae.value[n];if(t){var a=t.key;Je(a)}else Je(null)},$e=t((function(){return xe(p(p({},me(I.value,W.value)),{},{data:Qe.value.data,active:!0}))})),en=function(n){var t=e.onKeydown,a=e.checkable,o=e.selectable;switch(n.which){case R.UP:Ze(-1),n.preventDefault();break;case R.DOWN:Ze(1),n.preventDefault()}var l=Qe.value;if(l&&l.data){var r=!1===l.data.isLeaf||!!(l.data.children||[]).length,i=$e.value;switch(n.which){case R.LEFT:r&&X.value.has(I.value)?We({},i):l.parent&&Je(l.parent.key),n.preventDefault();break;case R.RIGHT:r&&!X.value.has(I.value)?We({},i):l.children&&l.children.length&&Je(l.children[0].key),n.preventDefault();break;case R.ENTER:case R.SPACE:!a||i.disabled||!1===i.checkable||i.disableCheckbox?a||!o||i.disabled||!1===i.selectable||Me({},i):He({},i,!ee.value.has(I.value))}}t&&t(n)};return u({onNodeExpand:We,scrollTo:be,onKeydown:en,selectedKeys:t((function(){return k.value})),checkedKeys:t((function(){return x.value})),halfCheckedKeys:t((function(){return N.value})),loadedKeys:t((function(){return E.value})),loadingKeys:t((function(){return D.value})),expandedKeys:t((function(){return P.value}))}),M((function(){window.removeEventListener("dragend",Ee),v.value=!0})),n(Q,{expandedKeys:P,selectedKeys:k,loadedKeys:E,loadingKeys:D,checkedKeys:x,halfCheckedKeys:N,expandedKeysSet:X,selectedKeysSet:J,loadedKeysSet:Z,loadingKeysSet:$,checkedKeysSet:ee,halfCheckedKeysSet:ne,flattenNodes:ae}),function(){var n,t,a=T.draggingNodeKey,o=T.dropLevelOffset,d=T.dropContainerKey,u=T.dropTargetKey,s=T.dropPosition,v=T.dragOverNodeKey,f=e.prefixCls,k=e.showLine,b=e.focusable,m=e.tabindex,x=void 0===m?0:m,w=e.selectable,N=e.showIcon,C=e.icon,O=void 0===C?c.icon:C,S=e.switcherIcon,E=e.draggable,D=e.checkable,P=e.checkStrictly,A=e.disabled,L=e.motion,j=e.loadData,M=e.filterTreeNode,H=e.height,R=e.itemHeight,z=e.virtual,V=e.dropIndicatorRender,_=e.onContextmenu,U=e.onScroll,q=e.direction,W=i.class,X=i.style,J=h(p(p({},e),i),{aria:!0,data:!0});return E&&(t="object"===K(E)?E:"function"==typeof E?{nodeDraggable:E}:{}),l(Y,{value:{prefixCls:f,selectable:w,showIcon:N,icon:O,switcherIcon:S,draggable:t,draggingNodeKey:a,checkable:D,customCheckable:c.checkable,checkStrictly:P,disabled:A,keyEntities:F.value,dropLevelOffset:o,dropContainerKey:d,dropTargetKey:u,dropPosition:s,dragOverNodeKey:v,dragging:null!==a,indent:y.value,direction:q,dropIndicatorRender:V,loadData:j,filterTreeNode:M,onNodeClick:Be,onNodeDoubleClick:Ie,onNodeExpand:We,onNodeSelect:Me,onNodeCheck:He,onNodeLoad:ze,onNodeMouseEnter:Ve,onNodeMouseLeave:Ge,onNodeContextMenu:_e,onNodeDragStart:De,onNodeDragEnter:Pe,onNodeDragOver:Ae,onNodeDragLeave:Te,onNodeDragEnd:Se,onNodeDrop:je,slots:c}},{default:function(){return[l("div",{role:"tree",class:g(f,W,(n={},r(n,"".concat(f,"-show-line"),k),r(n,"".concat(f,"-focused"),B.value),r(n,"".concat(f,"-active-focused"),null!==I.value),n))},[l(Re,p({ref:G,prefixCls:f,style:X,disabled:A,selectable:w,checkable:!!D,motion:L,height:H,itemHeight:R,virtual:z,focusable:b,focused:B.value,tabindex:x,activeItem:Qe.value,onFocus:Ue,onBlur:qe,onKeydown:en,onActiveChange:Je,onListChangeStart:Xe,onListChangeEnd:Ye,onContextmenu:_,onScroll:U},J),null)])]}})}}}),Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){_e(e,n,t[n])}))}return e}function _e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ue=function(e,n){var t=Ge({},e,n.attrs);return l(z,Ge({},t,{icon:Ve}),null)};Ue.displayName="FileOutlined",Ue.inheritAttrs=!1;var qe=Ue,We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){Ye(e,n,t[n])}))}return e}function Ye(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Je=function(e,n){var t=Xe({},e,n.attrs);return l(z,Xe({},t,{icon:We}),null)};Je.displayName="MinusSquareOutlined",Je.inheritAttrs=!1;var Qe=Je,Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function $e(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){en(e,n,t[n])}))}return e}function en(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var nn=function(e,n){var t=$e({},e,n.attrs);return l(z,$e({},t,{icon:Ze}),null)};nn.displayName="PlusSquareOutlined",nn.inheritAttrs=!1;var tn=nn,an={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function on(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){ln(e,n,t[n])}))}return e}function ln(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var rn=function(e,n){var t=on({},e,n.attrs);return l(z,on({},t,{icon:an}),null)};rn.displayName="CaretDownFilled",rn.inheritAttrs=!1;var cn=rn;function dn(e,n,t,a){var o,r=a.isLeaf,i=a.expanded,c=n;if(a.loading)return l(V,{class:"".concat(e,"-switcher-loading-icon")},null);t&&"object"===K(t)&&(o=t.showLeafIcon);var d=null,u="".concat(e,"-switcher-icon");return r?(t&&(d="object"!==K(t)||o?l(qe,{class:"".concat(e,"-switcher-line-icon")},null):l("span",{class:"".concat(e,"-switcher-leaf-line")},null)),d):(d=l(cn,{class:u},null),t&&(d=l(i?Qe:tn,{class:"".concat(e,"-switcher-line-icon")},null)),"function"==typeof n?c=n(p(p({},a),{},{defaultIcon:d,switcherCls:u})):G(c)&&(c=_(c,{class:u})),c||d)}function un(e){var n,t=e.dropPosition,a=e.dropLevelOffset,o=e.prefixCls,i=e.indent,c=e.direction,d=void 0===c?"ltr":c,u="ltr"===d?"left":"right",s="ltr"===d?"right":"left",v=(r(n={},u,"".concat(-a*i+4,"px")),r(n,s,0),n);switch(t){case-1:v.top="".concat(-3,"px");break;case 1:v.bottom="".concat(-3,"px");break;default:v.bottom="".concat(-3,"px"),v[u]="".concat(i+4,"px")}return l("div",{style:v,class:"".concat(o,"-drop-indicator")},null)}var sn=function(){var e=te();return p(p({},e),{},{showLine:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandParent:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},checkedKeys:{type:[Array,Object]},defaultCheckedKeys:{type:Array},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:i.any,prefixCls:String,replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:i.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})},vn=e({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:I(sn(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,n){var a=n.attrs,o=n.expose,i=n.emit,u=n.slots;c(!(void 0===e.treeData&&u.default));var s=U("tree",e),v=s.prefixCls,f=s.direction,y=s.virtual,h=d();o({treeRef:h,onNodeExpand:function(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];null===(e=h.value)||void 0===e||e.onNodeExpand.apply(e,t)},scrollTo:function(e){var n;null===(n=h.value)||void 0===n||n.scrollTo(e)},selectedKeys:t((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:t((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:t((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:t((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:t((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:t((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.expandedKeys}))}),O((function(){q(void 0===e.replaceFields,"Tree","`replaceFields` is deprecated, please use fieldNames instead")}));var k=function(e,n){i("update:checkedKeys",e),i("check",e,n)},b=function(e,n){i("update:expandedKeys",e),i("expand",e,n)},K=function(e,n){i("update:selectedKeys",e),i("select",e,n)};return function(){var n,t=e.showIcon,o=e.showLine,i=e.switcherIcon,c=void 0===i?u.switcherIcon:i,d=e.icon,s=void 0===d?u.icon:d,m=e.blockNode,w=e.checkable,N=e.selectable,O=e.fieldNames,S=void 0===O?e.replaceFields:O,E=e.motion,D=void 0===E?e.openAnimation:E,P=e.itemHeight,A=void 0===P?28:P,T=e.onDoubleclick,L=e.onDblclick,j=p(p(p({},a),C(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{},{showLine:Boolean(o),dropIndicatorRender:un,fieldNames:S,icon:s,itemHeight:A}),F=u.default?x(u.default()):void 0;return l(ze,p(p({},j),{},{virtual:y.value,motion:D,ref:h,prefixCls:v.value,class:g((n={},r(n,"".concat(v.value,"-icon-hide"),!t),r(n,"".concat(v.value,"-block-node"),m),r(n,"".concat(v.value,"-unselectable"),!N),r(n,"".concat(v.value,"-rtl"),"rtl"===f.value),n),a.class),direction:f.value,checkable:w,selectable:N,switcherIcon:function(e){return dn(v.value,c,o,e)},onCheck:k,onExpand:b,onSelect:K,onDblclick:L||T,children:F}),p(p({},u),{},{checkable:function(){return l("span",{class:"".concat(v.value,"-checkbox-inner")},null)}}))}}}),fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function pn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){yn(e,n,t[n])}))}return e}function yn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var hn=function(e,n){var t=pn({},e,n.attrs);return l(z,pn({},t,{icon:fn}),null)};hn.displayName="FolderOpenOutlined",hn.inheritAttrs=!1;var gn=hn,kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function bn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?Object(arguments[n]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){Kn(e,n,t[n])}))}return e}function Kn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var mn=function(e,n){var t=bn({},e,n.attrs);return l(z,bn({},t,{icon:kn}),null)};mn.displayName="FolderOutlined",mn.inheritAttrs=!1;var xn,wn,Nn=mn;function Cn(e,n,t){e.forEach((function(e){var a=e[n.key],o=e[n.children];!1!==t(a,e)&&Cn(o||[],n,t)}))}function On(e){var n=e.treeData,t=e.expandedKeys,a=e.startKey,o=e.endKey,l=e.fieldNames,r=void 0===l?{title:"title",key:"key",children:"children"}:l,i=[],c=xn.None;if(a&&a===o)return[a];if(!a||!o)return[];return Cn(n,r,(function(e){if(c===xn.End)return!1;if(function(e){return e===a||e===o}(e)){if(i.push(e),c===xn.None)c=xn.Start;else if(c===xn.Start)return c=xn.End,!1}else c===xn.Start&&i.push(e);return-1!==t.indexOf(e)})),i}function Sn(e,n,t){var a=m(n),o=[];return Cn(e,t,(function(e,n){var t=a.indexOf(e);return-1!==t&&(o.push(n),a.splice(t,1)),!!a.length})),o}(wn=xn||(xn={}))[wn.None=0]="None",wn[wn.Start=1]="Start",wn[wn.End=2]="End";var En=["icon","blockNode"];function Dn(e){var n=e.isLeaf,t=e.expanded;return l(n?qe:t?gn:Nn,null,null)}var Pn=e({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:I(p(p({},sn()),{},{expandAction:{type:[Boolean,String]}}),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,n){var a,o=n.attrs,i=n.slots,c=n.emit,u=n.expose,s=d(e.treeData||ke(x(null===(a=i.default)||void 0===a?void 0:a.call(i))));S((function(){return e.treeData}),(function(){s.value=e.treeData})),f((function(){j((function(){var n;void 0===e.treeData&&i.default&&(s.value=ke(x(null===(n=i.default)||void 0===n?void 0:n.call(i))))}))}));var v=d(),h=d(),k=t((function(){return ge(e.fieldNames)})),b=d();u({scrollTo:function(e){var n;null===(n=b.value)||void 0===n||n.scrollTo(e)},selectedKeys:t((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:t((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:t((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:t((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:t((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:t((function(){var e;return null===(e=b.value)||void 0===e?void 0:e.expandedKeys}))});var K,w=d(e.selectedKeys||e.defaultSelectedKeys||[]),N=d((K=Ke(s.value,{fieldNames:k.value}).keyEntities,e.defaultExpandAll?Object.keys(K):e.defaultExpandParent?pe(e.expandedKeys||e.defaultExpandedKeys||[],K):e.expandedKeys||e.defaultExpandedKeys));S((function(){return e.selectedKeys}),(function(){void 0!==e.selectedKeys&&(w.value=e.selectedKeys)}),{immediate:!0}),S((function(){return e.expandedKeys}),(function(){void 0!==e.expandedKeys&&(N.value=e.expandedKeys)}),{immediate:!0});var C=W((function(e,n){n.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||b.value.onNodeExpand(e,n)}),200,{leading:!0}),O=function(n,t){void 0===e.expandedKeys&&(N.value=n),c("update:expandedKeys",n),c("expand",n,t)},E=function(n,t){"click"===e.expandAction&&C(n,t),c("click",n,t)},D=function(n,t){var a=e.expandAction;"dblclick"!==a&&"doubleclick"!==a||C(n,t),c("doubleclick",n,t),c("dblclick",n,t)},P=function(n,t){var a,o=e.multiple,l=t.node,r=t.nativeEvent,i=l[k.value.key],d=p(p({},t),{},{selected:!0}),u=(null==r?void 0:r.ctrlKey)||(null==r?void 0:r.metaKey),f=null==r?void 0:r.shiftKey;o&&u?(a=n,v.value=i,h.value=a,d.selectedNodes=Sn(s.value,a,k.value)):o&&f?(a=Array.from(new Set([].concat(m(h.value||[]),m(On({treeData:s.value,expandedKeys:N.value,startKey:i,endKey:v.value,fieldNames:k.value}))))),d.selectedNodes=Sn(s.value,a,k.value)):(a=[i],v.value=i,h.value=a,d.selectedNodes=Sn(s.value,a,k.value)),c("update:selectedKeys",a),c("select",a,d),void 0===e.selectedKeys&&(w.value=a)},A=function(e,n){c("update:checkedKeys",e),c("check",e,n)},T=U("tree",e),L=T.prefixCls,F=T.direction;return function(){var n=g("".concat(L.value,"-directory"),r({},"".concat(L.value,"-directory-rtl"),"rtl"===F.value),o.class),t=e.icon,a=void 0===t?i.icon:t,c=e.blockNode,d=void 0===c||c,u=y(e,En);return l(vn,p(p(p({},o),{},{icon:a||Dn,ref:b,blockNode:d},u),{},{prefixCls:L.value,class:n,expandedKeys:N.value,selectedKeys:w.value,onSelect:P,onClick:E,onDblclick:D,onExpand:O,onCheck:A}),i)}}}),An=oe,Tn=b(vn,{DirectoryTree:Pn,TreeNode:An,install:function(e){return e.component(vn.name,vn),e.component(An.name,An),e.component(Pn.name,Pn),e}});export{Tn as T,Ce as a,ze as b,Ke as c,le as d,re as e,dn as r,Oe as u};
