import{B as e}from"./TableImg.js";import{a as o}from"./BasicForm.js";import{u as i}from"./useTable.js";import{P as t}from"./index14.js";import{a as s}from"./index2.js";import{columns as n}from"./plugins.data.js";import{u as r}from"./index26.js";import{G as a}from"./GPluginModal.js";import{a as l,b as m,c as d,e as p,o as c,i as u,j,k as g,R as f,l as b,ae as x}from"./index.js";/* empty css      */import"./index5.js";import"./index6.js";import"./merge.js";import"./upperFirst.js";import"./_baseIteratee.js";import"./get.js";import"./useWindowSizeFn.js";import"./onMountedOrActivated.js";import"./sortable.esm.js";import"./RedoOutlined.js";import"./FullscreenOutlined.js";import"./scrollTo.js";import"./index21.js";import"./index22.js";import"./index4.js";import"./find.js";import"./useFormItem.js";import"./transButton.js";import"./download.js";import"./index7.js";import"./index8.js";import"./uniqBy.js";import"./index16.js";import"./useContentViewHeight.js";import"./ArrowLeftOutlined.js";import"./guoba.js";import"./index15.js";import"./MarkdownViewer.js";import"./common.js";const h=m({name:"Plugins",components:{BasicTable:e,PageWrapper:t,GPluginModal:a,TableAction:o},setup(){const e=r(),[o,{openModal:t}]=s(),a=d({}),[l,{reload:m,updateTableDataRecord:p}]=i({title:"插件列表",api:()=>e.getPlugins(),rowKey:"id",columns:n,showTableSetting:!0,bordered:!0,canResize:!1,pagination:!0,indexColumnProps:{title:"#"},actionColumn:{width:80,title:"操作",dataIndex:"action"}});return{registerTable:l,registerModal:o,handleEdit:function(e){t(!0,{plugin:e})},handleDelete:function(e){console.log(e)},handleSuccess:function({isUpdate:e,values:o}){if(e){const e=p(o.id,o);console.log(e)}else m()},handleView:function(e){t(!0,{plugin:e})},searchInfo:a}}}),w=b(" 插件列表来源： "),T=x("a",{href:"https://gitee.com/yhArcadia/Yunzai-Bot-plugins-index",target:"_blank"}," Yunzai-Bot插件索引 ",-1);var P=l(h,[["render",function(e,o,i,t,s,n){const r=p("TableAction"),a=p("BasicTable"),l=p("GPluginModal"),m=p("PageWrapper");return c(),u(m,{title:"插件管理"},{headerContent:j((()=>[w,T])),default:j((()=>[g(a,{onRegister:e.registerTable,searchInfo:e.searchInfo},{bodyCell:j((({column:o,record:i})=>["action"===o.key?(c(),u(r,{key:0,actions:[{icon:"clarity:info-standard-line",tooltip:"查看插件详情",onClick:e.handleView.bind(null,i)}]},null,8,["actions"])):f("",!0)])),_:1},8,["onRegister","searchInfo"]),g(l,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])),_:1})}]]);export{P as default};
